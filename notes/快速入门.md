# 快速入门：创建第一个 Electron 应用 (step1)

本笔记记录了使用 Electron Vite 创建第一个基本 Electron 应用的过程，对应 `example/step1` 目录。

## 项目结构

我们采用了推荐的分离结构：

```
example/step1/
├── dist/              # 构建输出目录
├── out/               # 指定为TS的编译输出
├── node_modules/      # 依赖
├── src/
│   ├── main/          # 主进程代码
│   │   └── index.ts
│   ├── preload/       # 预加载脚本
│   │   └── index.ts
│   └── renderer/      # 渲染器进程代码
│       ├── index.html # 渲染器 HTML 入口
│       └── main.ts    # 渲染器 TypeScript 入口
├── electron.vite.config.ts # Electron Vite 配置文件
├── package.json
├── tsconfig.json      # (可选，electron-vite 会处理)
└── yarn.lock
```

-   **`src/main/index.ts`**: [[主进程]] 的入口点，负责创建浏览器窗口 (`BrowserWindow`) 和处理系统事件。
-   **`src/preload/index.ts`**: [[预加载脚本]]，在渲染器进程加载网页前运行，用于通过 `contextBridge` 安全地暴露 Node.js API 给渲染器。它运行在一个拥有完整 `document` 和 `window` 访问权限，同时也能访问 Node.js API 的特殊环境中。
-   **`src/renderer/index.html`**: [[渲染器进程]] 的 HTML 页面。
-   **`src/renderer/main.ts`**: [[渲染器进程]] 的 JavaScript/TypeScript 入口，负责页面 UI 逻辑，可以通过预加载脚本暴露的 API 与主进程或其他 Node.js 功能交互。
-   **`electron.vite.config.ts`**: [[Electron Vite]] 的配置文件，简化了主进程、预加载脚本和渲染器进程的构建和开发流程。
-   **`package.json`**: 项目配置文件，包含依赖项和启动脚本 (`dev`, `build`)。
-  项目的运行是基于 js 的，即运行环境在 `out` 目录中。

## 关键概念回顾

-   [[主进程与渲染器进程]]: Electron 应用的核心架构。
-   [[预加载脚本]] & [[上下文隔离]]: 在渲染器中安全使用 Node.js 功能的关键。
-   [[Electron Vite]]: 现代化的 Electron 开发和构建工具。

## 如何运行

1.  确保你已经安装了 [Node.js](https://nodejs.org/) 和 [Yarn](https://yarnpkg.com/)。
2.  进入项目目录：`cd example/step1`
3.  安装依赖：`yarn install` (如果之前步骤已执行过可跳过)
4.  启动开发模式：`yarn dev`

这将启动一个带有热重载功能的开发服务器，并打开 Electron 应用窗口。

#Electron #入门 #Vite #TypeScript